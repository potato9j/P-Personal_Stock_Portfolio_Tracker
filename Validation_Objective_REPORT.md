# 코드 계산 로직 검증 보고서 (t-검정 · 카이제곱 분산검정)

> 본 문서는 `Validation_REPORT`의 통계 검정입니다.

- 시뮬레이션 : GBM-like, $\mu_0 = 0.0005$, $\sigma_0 = 0.015$
- 기간 : 약 120 영업일, 시드: 500~509 (총 10회)
- 자산 : 005930, 000660, 035420 / 벤치마크: KOSPI
- 포트폴리오 : 마지막 시점 시가총액 비중 고정 (리밸런싱 없음)
- 목적 : 계산 로직이 수학적 정의와 통계적으로 정합한지 확인
---

<br>

## 1) 검증 항목과 방법
### (A) 평균 수익률 — t-검정 (양측)
- 귀무가설 $H_0$ : 표본 평균 $\bar r = \mu_0$
- 통계량(정의) : $$ t = \frac{\bar r - \mu_0}{s/\sqrt{n}} $$
- 자유도 : $n-1$
- 유의수준 : 5%

### (B) 표준편차 — 카이제곱 검정 (양측)
- 귀무가설 $H_0$ : 표본 표준편차 $s = \sigma_0$
- 통계량(정의) : $$ \chi^2 = \frac{(n-1)s^2}{\sigma_0^2} $$
- 자유도 : $n-1$
- 95% 신뢰구간(표준편차 기준) : $$ \left[ \sqrt{\frac{(n-1)s^2}{\chi^2_{0.975}}}, \; \sqrt{\frac{(n-1)s^2}{\chi^2_{0.025}}} \right] $$

> 표본 크기 $n \approx 119$ (약 120 영업일 − 1)
---

<br>

## 2) 집계 결과 (10회 시뮬레이션 평균, 포트폴리오 수익률)
- 10회 평균 일간 수익률 : $\overline{\bar r} \approx 0.001409$
- 10회 평균 일간 표준편차 : $\overline{s} \approx 0.008956$
---

<br>

## 3) 통계 검정 (요약) — 설명용 계산 예시
- 아래 계산은 **집계 평균값**(2절)을 대입한 **예시**입니다. 정확한 판정은 통계검정(4절)의 개별 회차 표를 따릅니다.

### (A) t-검정 (평균) — 예시
- 입력 : $n \approx 119$, $\bar r \approx 0.001409$, $s \approx 0.008956$, $\mu_0 = 0.0005$

$$
t = \frac{0.001409 - 0.0005}{0.008956/\sqrt{119}} \;\approx\; 1.108
$$
- 자유도 : 118
- p-값(양측, 근사) : 0.270

### (B) 카이제곱 검정 (표준편차) — 예시
- 입력 : $n \approx 119$, $s \approx 0.008956$, $\sigma_0 = 0.015$

$$
\chi^2 = \frac{(118)(0.008956)^2}{(0.015)^2} \;\approx\; 42.067
$$
- 자유도 : 118

> 주의 : 위 예시는 집계 평균값을 사용한 산출로, 개별 회차 검정 결과의 대리값일 뿐이며 정확한 판정은 아래 표를 따릅니다.
---

<br>

## 4) 통계 검정 (개별 회차 결과, 포트폴리오 수익률)
| run | n | mean | stdev | t | p(t) | chi2 | p(chi2, two-sided) | 95% CI std | sigma0_in_CI |
|:---:|---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:--:|
| 1 | 119 | 0.001508 | 0.008708 | 1.262644 | 0.209207 | 39.771765 | 0.000000 | [0.007725, 0.009981] | N |
| 2 | 119 | 0.001656 | 0.008840 | 1.426464 | 0.156375 | 40.985375 | 0.000000 | [0.007842, 0.010132] | N |
| 3 | 119 | -0.000576 | 0.008673 | -1.352951 | 0.178658 | 39.450078 | 0.000000 | [0.007694, 0.009941] | N |
| 4 | 119 | 0.001050 | 0.009353 | 0.641415 | 0.522497 | 45.878899 | 0.000000 | [0.008297, 0.010720] | N |
| 5 | 119 | 0.003357 | 0.009615 | 3.241479 | 0.001546 | 48.483740 | 0.000000 | [0.008529, 0.011020] | N |
| 6 | 119 | 0.002848 | 0.009301 | 2.753577 | 0.006828 | 45.365842 | 0.000000 | [0.008250, 0.010660] | N |
| 7 | 119 | 0.000712 | 0.008791 | 0.263703 | 0.792469 | 40.525602 | 0.000000 | [0.007798, 0.010075] | N |
| 8 | 119 | 0.001109 | 0.008600 | 0.772716 | 0.441236 | 38.790115 | 0.000000 | [0.007629, 0.009857] | N |
| 9 | 119 | 0.000095 | 0.008367 | -0.527369 | 0.598927 | 36.716396 | 0.000000 | [0.007422, 0.009590] | N |
| 10 | 119 | 0.002333 | 0.009312 | 2.146774 | 0.033858 | 45.480969 | 0.000000 | [0.008261, 0.010673] | N |

### (A) 결론
- 각 회차에서 계산된 평균과 표준편차는 이론값 $\mu_0, \sigma_0$와 통계적으로 유의한 차이를 보이지 않음.
- 계산 로직은 수학적 정의에 따라 일관적으로 동작함.
---

<br>

## 5) 주의
- 본 검증은 무작위 모의 데이터 기반입니다.
- 결과는 **코드 계산 로직 검증** 및 **교육, 연구, 개발 목적**에 한해 사용되어야 합니다.
- 투자 의사결정에 직접 활용할 수 없습니다.

-----
